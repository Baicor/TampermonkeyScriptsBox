// ==UserScript==
// @name         ClosePopup
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  进入某些网站时自动关闭弹窗
// @author       Aruba
// @include      *
// @icon         data:image/png;base64,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
// @grant        unsafeWindow
// @updateURL    https://raw.githubusercontent.com/geebadan/TampermonkeyScript/main/ClosePopup.js
// ==/UserScript==

var hostMap = {
    'www.bilibili.com': '.class',
    'www.zhihu.com': '.Button.Modal-closeButton.Button--plain',
    'zhuanlan.zhihu.com':'.Button.Modal-closeButton.Button--plain',
    'blog.csdn.net': '.passport-login-box>span'
}

function findElements(element){
    let els = document.querySelectorAll(element)
    return els
}

function close(){
    let elname = hostMap[window.location.host]
    let els = findElements(elname)
    if (els.length > 0){
        els[0].click()
    }
}

(function() {
    'use strict';

    let observer = new MutationObserver(close);
    let article = document.body;
    let options = {
        'childList': true,
        'attributes': true,
        'characterData': true,
        'subtree': true
    }
    observer.observe(article, options);
})();